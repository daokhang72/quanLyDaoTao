<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Admin Page</title>
</head>
<style>
    body{
      margin: 0;
    }
    .container {
      display: flex;
      height: 100vh;
    }

    .sidebar {
      width: 250px;
      background-color: #ffe55c;
      border-right: 2px solid #0097ff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .profile {
      padding: 20px 0;
      text-align: center;
    }

    .profile img {
      border-radius: 50%;
      width: 80px;
      height: 80px;
    }

    .profile h3 {
      margin-top: 10px;
      font-size: 18px;
    }

    .menu {
      width: 100%;
    }

    .menu a {
      display: block;
      padding: 12px 20px;
      text-decoration: none;
      color: black;
      border-top: 1px solid #ddd;
    }

    .menu a.active {
      background-color: white;
      font-weight: bold;
    }

    .menu a:hover {
      background-color: #fdd835;
    }

    .content {
      flex: 1;
      background-color: #f7f7f7;
      padding: 40px;
      text-align: center;
    }
    /*content*/
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .search-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 20px 0;
    }

    .search-input {
      padding: 10px;
      width: 300px;
      border: 1px solid #ccc;
      border-radius: 4px 0 0 4px;
    }

    .search-button {
      padding: 10px;
      background-color: #FFD700;
      border: none;
      border-radius: 0 4px 4px 0;
      cursor: pointer;
    }

    .button-container {
      text-align: right;
      margin-bottom: 10px;
    }

    .import-button .export-button .add-button, .filter-button {
      width: 180px;
      text-align: center;
    }

    .add-button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      border: 2px solid black;
    }
    .filter-button {
      background-color: rgb(255, 255, 255);
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      border: 2px solid black;
    }

    .import-button {
      background-color: rgb(255, 255, 255);
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      border: 2px solid black;
    }

    .export-button {
      background-color: rgb(255, 255, 255);
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      border: 2px solid black;
    }

    .user-table {
      width: 100%;
      border-collapse: collapse;
      background-color: #fdf2b2;
    }

    .user-table thead {
      background-color: yellow;
      font-weight: bold;
    }

    .user-table th, .hp-table td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }

    .user-table td {
      height: 30px;
    }

    .user-table img:hover {
      cursor: pointer;
    }
</style>
<body>
<div class="container">
    <div class="sidebar">
        <div class="profile">
            <img src="image/user.svg" alt="Avatar">
            <h3>Admin <span>üë§</span></h3>
        </div>
        <nav class="menu">
            <a href="/admin/home">Trang ch·ªß</a>
            <a href="/admin/CTDT">Th√¥ng tin CTƒêT</a>
            <a href="/admin/khung">Khung ch∆∞∆°ng tr√¨nh</a>
            <a href="#">Danh m·ª•c h·ªçc ph·∫ßn</a>
            <a href="#">ƒê·ªÅ c∆∞∆°ng chi ti·∫øt</a>
            <a href="#">K·∫ø ho·∫°ch d·∫°y h·ªçc</a>
            <a href="#">K·∫ø ho·∫°ch m·ªü nh√≥m</a>
            <a href="#">Ph√¢n c√¥ng gi·∫£ng d·∫°y</a>
            <a href="#">Gi·∫£ng vi√™n</a>
            <a href="#">M·∫´u in</a>
            <a href="#">Th·ªëng k√™</a>
            <a class="active" href="#">Qu·∫£n l√Ω ng∆∞·ªùi d√πng</a>
        </nav>
    </div>
    <main class="content">
        <h1>Danh s√°ch ng∆∞·ªùi d√πng</h1>
        <div class="top-bar">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input"
                       placeholder="Nh·∫≠p t√™n ng∆∞·ªùi d√πng ..."/>
                <button class="search-button" onclick="handleSearch()">üîç</button>
            </div>
            <div class="button-container">
                <button class="add-button" onclick="addCTDT()">‚ûï Th√™m Ng∆∞·ªùi D√πng</button>
                <button class="add-button" onclick="editUser()">üìù S·ª≠a Ng∆∞·ªùi D√πng</button>
                <button class="add-button" onclick="deleteUser()">üóëÔ∏è X√≥a Ng∆∞·ªùi D√πng</button>
            </div>
        </div>

        <table class="user-table">
            <thead>
            <tr>
                <th>T√™n ng∆∞·ªùi d√πng</th>
                <th>Email</th>
                <th>M·∫≠t kh·∫©u</th>
                <th>H·ªç t√™n ng∆∞·ªùi d√πng</th>
                <th>Admim</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <td th:text="${user.userName}">T√™n ng∆∞·ªùi d√πng</td>
                <td th:text="${user.userEmail}">Email</td>
                <td th:text="${user.userPassword}">M·∫≠t kh·∫©u</td>
                <td th:text="${user.userFullName}">H·ªç t√™n ng∆∞·ªùi d√πng</td>
                <td th:text="${user.isAdmin ? '‚úîÔ∏è' : '‚ùå'}">Admin</td>
            </tr>
            </tbody>
        </table>
    </main>
</div>
<script>
    // Click ch·ªçn d√≤ng
    document.querySelector('.user-table tbody').addEventListener('click', function (e) {
      const rows = this.querySelectorAll('tr');
      rows.forEach(row => row.classList.remove('selected'));
      const selected = e.target.closest('tr');
      if (selected) {
        selected.classList.add('selected');
      }
    });

    function editUser() {
      const selected = document.querySelector('.user-table tbody .selected');
      if (!selected) {
        alert("Vui l√≤ng ch·ªçn ng∆∞·ªùi d√πng c·∫ßn s·ª≠a.");
        return;
      }
      const username = selected.cells[0].textContent;
      alert("B·∫°n ƒëang s·ª≠a ng∆∞·ªùi d√πng: " + username);
      // TODO: Hi·ªÉn th·ªã form s·ª≠a d·ªØ li·ªáu ng∆∞·ªùi d√πng ·ªü ƒë√¢y
    }

    function deleteUser() {
      const selected = document.querySelector('.user-table tbody .selected');
      if (!selected) {
        alert("Vui l√≤ng ch·ªçn ng∆∞·ªùi d√πng c·∫ßn x√≥a.");
        return;
      }
      const username = selected.cells[0].textContent;
      if (confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ng∆∞·ªùi d√πng: " + username + " ?")) {
        selected.remove(); // T·∫°m x√≥a d√≤ng kh·ªèi b·∫£ng (c√≥ th·ªÉ g·ªçi API th·∫≠t ·ªü ƒë√¢y)
      }
    }
</script>
</body>
</html>
